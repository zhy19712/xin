{include file="../app/public/common_header.html"}
<link rel="stylesheet" href="__WEBSITE__/admin/organization/index.css">
<link rel="stylesheet" href="__PUBLIC__/ztree/css/ztreeadmin/ztreeiconAdmin.css">
<input type="hidden" id="groupId">
<input type="hidden" id="signatureId">
<div data-options="region:'west',title:'组织机构',split:true" style="width:260px;">
    <div class="ztree-title">
        <i title="新增节点" class="fa fa-lg fa-sitemap" id="addNode"></i>
        <i title="编辑节点" class="fa fa-lg fa-pencil" id="editNode"></i>
        <i title="删除节点" class="fa fa-lg fa-trash" id="delNode"></i>
        <i title="下移" class="fa fa-lg fa-arrow-circle-down" id="downMoveNode"></i>
        <i title="上移" class="fa fa-lg fa-arrow-circle-up" id="upMoveNode"></i>
        <i title="展开所有" class="fa fa-lg fa-plus-square" id="openNode"></i>
        <i title="收起所有" class="fa fa-lg fa-minus-square" id="closeNode"></i>
    </div>
    <ul class="ztree" id="ztree"></ul>
</div>
<div data-options="region:'center',title:''" style="padding:5px;">
    <div class="current-path">
        <h3 id="path">当前路径：</h3>
        <button class="layui-btn layui-btn-normal layui-btn-sm add" id="add">
            新增
        </button>
    </div>
    <table id="tableItem" class="table table-striped table-bordered" cellspacing="0"  width="100%">
        <thead>
        <tr>
            <th>排序号</th>
            <th>所在部门</th>
            <th>姓名</th>
            <th>登录名</th>
            <th>手机号码</th>
            <th>所属岗位</th>
            <th>是否有效</th>
            <th>操作</th>
        </tr>
        </thead>
    </table>
</div>

<!-- 新增表单 -->
<form action="" class="layui-form" id="org" style="display: none">
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">姓名</label>
            <div class="layui-input-inline">
                <input type="text" name="nickname" placeholder="请输入姓名" lay-verify="required|username" maxlength="12" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">排序号</label>
            <div class="layui-input-inline">
                <input type="text" name="order" placeholder="请输入排序号" lay-verify="number" maxlength="4" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">所在部门</label>
            <div class="layui-input-inline">
                <input type="text" name="admin_group_id" placeholder="请输入所在部门" autocomplete="off" class="layui-input" readonly>
            </div>
        </div>
  <!--      <div class="layui-inline">
            <label class="layui-form-label">管理员分组</label>
            <div class="layui-input-inline">
                <input type="text" name="admin_cate_id" placeholder="点击获取分组列表" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-form-mid layui-word-aux">
                <i class="fa fa-th-list manage-ztree-btn manageZtreeBtn"></i>
            </div>
        </div>-->
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">邮箱地址</label>
            <div class="layui-input-inline">
                <input type="text" name="mail" placeholder="请输入邮箱地址" lay-verify="email" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">手机号码</label>
            <div class="layui-input-inline">
                <input type="text" name="mobile" placeholder="请输入手机号码" lay-verify="phone" maxlength="11" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">办公电话</label>
            <div class="layui-input-inline">
                <input type="text" name="tele" placeholder="请输入办公电话" lay-verify="tel" maxlength="12" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">登录名</label>
            <div class="layui-input-inline">
                <input type="text" name="name" placeholder="请输入登录名" lay-verify="required|loginName" maxlength="12" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">密码</label>
            <div class="layui-input-inline">
                <input type="password" name="password" placeholder="请输入密码" maxlength="16" lay-verify="required|pass" autocomplete="off" class="layui-input">
                <input type="hidden" name="password_confirm">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">所属岗位</label>
            <div class="layui-input-inline">
                <input type="text" name="position" placeholder="请输入所属岗位" lay-verify="chinese" maxlength="30" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">微信号</label>
            <div class="layui-input-inline">
                <input type="text" name="wechat" placeholder="请输入微信号" maxlength="30" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">性别</label>
            <div class="layui-input-inline">
                <select name="gender" lay-verify="" lay-filter="gender">
                    <option value="1">男</option>
                    <option value="0">女</option>
                </select>
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="autograph">
            <label class="layui-form-label">电子签名</label>
            <div class="layui-input-inline">
                <input type="text" name="signature" placeholder="请上传电子签名" autocomplete="off" class="layui-input" readonly>
            </div>
            <div class="layui-form-mid layui-word-aux">
                <div id="upload" class="upload"></div>
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">备注</label>
        <div class="layui-input-block">
            <textarea name="remark" placeholder="请输入内容" class="layui-textarea" maxlength="500"></textarea>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn layui-btn-normal" lay-submit lay-filter="saveAndCreat">保存并新建</button>
            <button class="layui-btn layui-btn-normal" lay-submit lay-filter="save">保存</button>
            <button type="button" class="layui-btn layui-btn-primary close">关闭</button>
        </div>
    </div>
</form>

<!-- 预览表单 -->
<form action="" class="layui-form" id="orgStatic" style="display: none">
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">姓名</label>
            <div class="layui-input-inline">
                <input type="text" name="nickname" placeholder="无" lay-verify="required" autocomplete="off" class="layui-input" disabled>
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">排序号</label>
            <div class="layui-input-inline">
                <input type="text" name="order" placeholder="无" autocomplete="off"class="layui-input" disabled>
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">所在部门</label>
            <div class="layui-input-inline">
                <input type="text" name="admin_group_id" placeholder="无" autocomplete="off" class="layui-input" disabled>
            </div>
        </div>
        <!--<div class="layui-inline">
            <label class="layui-form-label">管理员分组</label>
            <div class="layui-input-inline">
                <input type="text" name="admin_cate_id" placeholder="无" autocomplete="off"class="layui-input" disabled>
            </div>
        </div>-->
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">邮箱地址</label>
            <div class="layui-input-inline">
                <input type="text" name="mail" placeholder="无" autocomplete="off"class="layui-input" disabled>
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">手机号码</label>
            <div class="layui-input-inline">
                <input type="text" name="mobile" placeholder="无" autocomplete="off"class="layui-input" disabled>
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">办公电话</label>
            <div class="layui-input-inline">
                <input type="text" name="tele" placeholder="无" autocomplete="off"class="layui-input" disabled>
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">登录名</label>
            <div class="layui-input-inline">
                <input type="text" name="name" placeholder="无" lay-verify="required" autocomplete="off"class="layui-input" disabled>
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">所属岗位</label>
            <div class="layui-input-inline">
                <input type="text" name="position" placeholder="无" autocomplete="off"class="layui-input" disabled>
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">微信号</label>
            <div class="layui-input-inline">
                <input type="text" name="wechat" placeholder="无" autocomplete="off"class="layui-input" disabled>
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">性别</label>
            <div class="layui-input-inline">
                <select name="gender" lay-verify="" disabled>
                    <option value="1">男</option>
                    <option value="0">女</option>
                </select>
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">电子签名</label>
            <div class="layui-input-inline">
                <input type="text" name="signature" placeholder="无" autocomplete="off"class="layui-input" disabled>
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">备注</label>
        <div class="layui-input-block">
            <textarea name="remark" placeholder="无" class="layui-textarea" disabled></textarea>
        </div>
    </div>
</form>

<!-- 编辑表单 -->
<form action="" class="layui-form" id="editOrg" style="display: none">
    <input type="hidden" name="editId" value="">
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">姓名</label>
            <div class="layui-input-inline">
                <input type="text" name="nickname" placeholder="请输入姓名" lay-verify="required|username" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">排序号</label>
            <div class="layui-input-inline">
                <input type="text" name="order" placeholder="请输入排序号" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline department">
            <label class="layui-form-label">所在部门</label>
            <div class="layui-input-inline">
                <input type="text" name="admin_group_id" placeholder="请输入所在部门" autocomplete="off" class="layui-input" readonly>
            </div>
            <div class="layui-form-mid layui-word-aux">
                <i class="fa fa-th-list manage-ztree-btn groupZtreeBtn" id=""></i>
            </div>
        </div>
        <!--<div class="layui-inline">
            <label class="layui-form-label">管理员分组</label>
            <div class="layui-input-inline">
                <input type="text" name="admin_cate_id" placeholder="点击获取分组列表" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-form-mid layui-word-aux">
                <i class="fa fa-th-list manage-ztree-btn manageZtreeBtn"></i>
            </div>
        </div>-->
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">邮箱地址</label>
            <div class="layui-input-inline">
                <input type="text" name="mail" placeholder="请输入邮箱地址" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">手机号码</label>
            <div class="layui-input-inline">
                <input type="text" name="mobile" placeholder="请输入手机号码" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">办公电话</label>
            <div class="layui-input-inline">
                <input type="text" name="tele" placeholder="请输入办公电话" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">登录名</label>
            <div class="layui-input-inline">
                <input type="text" name="name" placeholder="请输入登录名" lay-verify="required" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">所属岗位</label>
            <div class="layui-input-inline">
                <input type="text" name="position" placeholder="请输入所属岗位" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">微信号</label>
            <div class="layui-input-inline">
                <input type="text" name="wechat" placeholder="请输入微信号" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">性别</label>
            <div class="layui-input-inline">
                <select name="gender" lay-verify="">
                    <option value="1">男</option>
                    <option value="0">女</option>
                </select>
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="autograph">
            <label class="layui-form-label">电子签名</label>
            <div class="layui-input-inline">
                <input type="text" name="signature" placeholder="请上传电子签名" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-form-mid layui-word-aux">
                <div id="editorUpload" class="upload"></div>
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">备注</label>
        <div class="layui-input-block">
            <textarea name="remark" placeholder="请输入内容" class="layui-textarea"></textarea>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn layui-btn-normal" lay-submit lay-filter="save">保存</button>
            <button type="button" class="layui-btn layui-btn-primary close">关闭</button>
        </div>
    </div>
</form>

<!-- 新增节点 -->
<form action="" class="layui-form" id="addNodeForm" style="display: none">
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">上级名称</label>
            <div class="layui-input-inline">
                <input type="text" name="pname" placeholder="上级名称" lay-verify="required" autocomplete="off" class="layui-input" readonly>
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">节点名称</label>
            <div class="layui-input-inline">
                <input type="text" name="name" placeholder="请输入节点名称" autocomplete="off"  class="layui-input">
            </div>
        </div>
    </div>
</form>

<!-- 新增机构 -->
<form action="" class="layui-form" id="addOfficeForm" lay-filter="addOfficeForm" style="display: none">
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">上级机构</label>
            <div class="layui-input-inline">
                <input type="text" name="pname" placeholder="上级机构" lay-verify="required" autocomplete="off" class="layui-input" readonly>
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">机构名称</label>
            <div class="layui-input-inline">
                <input type="text" name="officeName" placeholder="请输入机构名称" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">机构类型</label>
            <div class="layui-input-inline">
                <select name="officeType" lay-verify="" lay-filter="officeType" ></select>
            </div>
        </div>
    </div>
</form>

<!-- 管理员分组 -->
<!--<div id="manageZtreeDialog" style="display: none">
    <ul id="manageZtree" class="ztree"></ul>
</div>-->

<!-- 所属部门 -->
<div id="groupZtreeDialog" style="display: none">
    <ul id="groupZtree" class="ztree"></ul>
</div>

{include file="../app/public/common_footer.html"}

<script src="__WEBSITE__/admin/organization/index.js"></script>
</body>
</html>
